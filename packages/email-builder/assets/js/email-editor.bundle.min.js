!function(e){var t=function(){var t=65,o='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',i={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},n=function(t,o){var i=D(t);e(o).data("colorpicker").fields.eq(1).val(i.r).end().eq(2).val(i.g).end().eq(3).val(i.b).end()},a=function(t,o){e(o).data("colorpicker").fields.eq(4).val(t.h).end().eq(5).val(t.s).end().eq(6).val(t.b).end()},l=function(t,o){e(o).data("colorpicker").fields.eq(0).val(U(t)).end()},s=function(t,o){e(o).data("colorpicker").selector.css("backgroundColor","#"+U({h:t.h,s:100,b:100})),e(o).data("colorpicker").selectorIndic.css({left:parseInt(150*t.s/100,10),top:parseInt(150*(100-t.b)/100,10)})},c=function(t,o){e(o).data("colorpicker").hue.css("top",parseInt(150-150*t.h/360,10))},r=function(t,o){e(o).data("colorpicker").currentColor.css("backgroundColor","#"+U(t))},d=function(t,o){e(o).data("colorpicker").newColor.css("backgroundColor","#"+U(t))},u=function(o){var i=o.charCode||o.keyCode||-1;if(i>t&&i<=90||32==i)return!1;var n=e(this).parent().parent();n.data("colorpicker").livePreview===!0&&p.apply(this)},p=function(t){var o,i=e(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?i.data("colorpicker").color=o=R(T(this.value)):this.parentNode.className.indexOf("_hsb")>0?i.data("colorpicker").color=o=M({h:parseInt(i.data("colorpicker").fields.eq(4).val(),10),s:parseInt(i.data("colorpicker").fields.eq(5).val(),10),b:parseInt(i.data("colorpicker").fields.eq(6).val(),10)}):i.data("colorpicker").color=o=I(A({r:parseInt(i.data("colorpicker").fields.eq(1).val(),10),g:parseInt(i.data("colorpicker").fields.eq(2).val(),10),b:parseInt(i.data("colorpicker").fields.eq(3).val(),10)})),t&&(n(o,i.get(0)),l(o,i.get(0)),a(o,i.get(0))),s(o,i.get(0)),c(o,i.get(0)),d(o,i.get(0)),i.data("colorpicker").onChange.apply(i,[o,U(o),D(o)])},m=function(t){var o=e(this).parent().parent();o.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},f=function(){t=this.parentNode.className.indexOf("_hex")>0?70:65,e(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),e(this).parent().addClass("colorpicker_focus")},b=function(t){var o=e(this).parent().find("input").focus(),i={el:e(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:o,val:parseInt(o.val(),10),preview:e(this).parent().parent().data("colorpicker").livePreview};e(document).bind("mouseup",i,v),e(document).bind("mousemove",i,g)},g=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val+e.pageY-e.data.y,10)))),e.data.preview&&p.apply(e.data.field.get(0),[!0]),!1},v=function(t){return p.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colorpicker_slider").find("input").focus(),e(document).unbind("mouseup",v),e(document).unbind("mousemove",g),!1},h=function(t){var o={cal:e(this).parent(),y:e(this).offset().top};o.preview=o.cal.data("colorpicker").livePreview,e(document).bind("mouseup",o,w),e(document).bind("mousemove",o,y)},y=function(e){return p.apply(e.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,e.pageY-e.data.y)))/150,10)).get(0),[e.data.preview]),!1},w=function(t){return n(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),l(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),e(document).unbind("mouseup",w),e(document).unbind("mousemove",y),!1},k=function(t){var o={cal:e(this).parent(),pos:e(this).offset()};o.preview=o.cal.data("colorpicker").livePreview,e(document).bind("mouseup",o,x),e(document).bind("mousemove",o,C)},C=function(e){return p.apply(e.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,e.pageY-e.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,e.pageX-e.data.pos.left))/150,10)).get(0),[e.data.preview]),!1},x=function(t){return n(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),l(t.data.cal.data("colorpicker").color,t.data.cal.get(0)),e(document).unbind("mouseup",x),e(document).unbind("mousemove",C),!1},S=function(t){e(this).addClass("colorpicker_focus")},B=function(t){e(this).removeClass("colorpicker_focus")},_=function(t){var o=e(this).parent(),i=o.data("colorpicker").color;o.data("colorpicker").origColor=i,r(i,o.get(0)),o.data("colorpicker").onSubmit(i,U(i),D(i),o.data("colorpicker").el)},j=function(t){var o=e("#"+e(this).data("colorpickerId"));o.data("colorpicker").onBeforeShow.apply(this,[o.get(0)]);var i=e(this).offset(),n=P(),a=i.top+this.offsetHeight,l=i.left;return a+176>n.t+n.h&&(a-=this.offsetHeight+176),l+356>n.l+n.w&&(l-=356),o.css({left:l+"px",top:a+"px"}),0!=o.data("colorpicker").onShow.apply(this,[o.get(0)])&&o.show(),e(document).bind("mousedown",{cal:o},$),!1},$=function(t){Q(t.data.cal.get(0),t.target,t.data.cal.get(0))||(0!=t.data.cal.data("colorpicker").onHide.apply(this,[t.data.cal.get(0)])&&t.data.cal.hide(),e(document).unbind("mousedown",$))},Q=function(e,t,o){if(e==t)return!0;if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(16&e.compareDocumentPosition(t));for(var i=t.parentNode;i&&i!=o;){if(i==e)return!0;i=i.parentNode}return!1},P=function(){var e="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(e?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(e?document.documentElement.clientHeight:document.body.clientHeight)}},M=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},A=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},T=function(e){var t=6-e.length;if(t>0){for(var o=[],i=0;i<t;i++)o.push("0");o.push(e),e=o.join("")}return e},E=function(e){var e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:e>>16,g:(65280&e)>>8,b:255&e}},R=function(e){return I(E(e))},I=function(e){var t={h:0,s:0,b:0},o=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),n=i-o;return t.b=i,t.s=0!=i?255*n/i:0,0!=t.s?e.r==i?t.h=(e.g-e.b)/n:e.g==i?t.h=2+(e.b-e.r)/n:t.h=4+(e.r-e.g)/n:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},D=function(e){var t={},o=Math.round(e.h),i=Math.round(255*e.s/100),n=Math.round(255*e.b/100);if(0==i)t.r=t.g=t.b=n;else{var a=n,l=(255-i)*n/255,s=(a-l)*(o%60)/60;360==o&&(o=0),o<60?(t.r=a,t.b=l,t.g=l+s):o<120?(t.g=a,t.b=l,t.r=a-s):o<180?(t.g=a,t.r=l,t.b=l+s):o<240?(t.b=a,t.r=l,t.g=a-s):o<300?(t.b=a,t.g=l,t.r=l+s):o<360?(t.r=a,t.g=l,t.b=a-s):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},H=function(t){var o=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(o,function(e,t){1==t.length&&(o[e]="0"+t)}),o.join("")},U=function(e){return H(D(e))},L=function(){var t=e(this).parent(),o=t.data("colorpicker").origColor;t.data("colorpicker").color=o,n(o,t.get(0)),l(o,t.get(0)),a(o,t.get(0)),s(o,t.get(0)),c(o,t.get(0)),d(o,t.get(0))};return{init:function(t){if(t=e.extend({},i,t||{}),"string"==typeof t.color)t.color=R(t.color);else if(void 0!=t.color.r&&void 0!=t.color.g&&void 0!=t.color.b)t.color=I(t.color);else{if(void 0==t.color.h||void 0==t.color.s||void 0==t.color.b)return this;t.color=M(t.color)}return this.each(function(){if(!e(this).data("colorpickerId")){var i=e.extend({},t);i.origColor=t.color;var g="collorpicker_"+parseInt(1e3*Math.random());e(this).data("colorpickerId",g);var v=e(o).attr("id",g);i.flat?v.appendTo(this).show():v.appendTo(document.body),i.fields=v.find("input").bind("keyup",u).bind("change",p).bind("blur",m).bind("focus",f),v.find("span").bind("mousedown",b).end().find(">div.colorpicker_current_color").bind("click",L),i.selector=v.find("div.colorpicker_color").bind("mousedown",k),i.selectorIndic=i.selector.find("div div"),i.el=this,i.hue=v.find("div.colorpicker_hue div"),v.find("div.colorpicker_hue").bind("mousedown",h),i.newColor=v.find("div.colorpicker_new_color"),i.currentColor=v.find("div.colorpicker_current_color"),v.data("colorpicker",i),v.find("div.colorpicker_submit").bind("mouseenter",S).bind("mouseleave",B).bind("click",_),n(i.color,v.get(0)),a(i.color,v.get(0)),l(i.color,v.get(0)),c(i.color,v.get(0)),s(i.color,v.get(0)),r(i.color,v.get(0)),d(i.color,v.get(0)),i.flat?v.css({position:"relative",display:"block"}):e(this).bind(i.eventName,j)}})},showPicker:function(){return this.each(function(){e(this).data("colorpickerId")&&j.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("colorpickerId")&&e("#"+e(this).data("colorpickerId")).hide()})},setColor:function(t){if("string"==typeof t)t=R(t);else if(void 0!=t.r&&void 0!=t.g&&void 0!=t.b)t=I(t);else{if(void 0==t.h||void 0==t.s||void 0==t.b)return this;t=M(t)}return this.each(function(){if(e(this).data("colorpickerId")){var o=e("#"+e(this).data("colorpickerId"));o.data("colorpicker").color=t,o.data("colorpicker").origColor=t,n(t,o.get(0)),a(t,o.get(0)),l(t,o.get(0)),c(t,o.get(0)),s(t,o.get(0)),r(t,o.get(0)),d(t,o.get(0))}})}}}();e.fn.extend({ColorPicker:t.init,ColorPickerHide:t.hidePicker,ColorPickerShow:t.showPicker,ColorPickerSetColor:t.setColor})}(jQuery);var returnVal;!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";var o,i,n,a,l,s,c,r,d,u,p,m,f,b,g,v,h,y,w,k,C,x,S,B,_,j,$,Q,P,M,A,T,E,R,I,D,H,o,U,L,z,q,O,F,N,V,Y,J,W,G,X,K,Z,ee,te={typography:{itemSelector:"typography",parentSelector:"tab-elements"},media:{itemSelector:"media",parentSelector:"tab-elements"},layout:{itemSelector:"layout",parentSelector:"tab-elements"},button:{itemSelector:"button",parentSelector:"tab-elements"},social:{itemSelector:"social",parentSelector:"tab-elements"},background:{itemSelector:"background",parentSelector:"tab-property"},"border-radius":{itemSelector:"border-radius",parentSelector:"tab-property"},"text-style":{itemSelector:"text-style",parentSelector:"tab-property"},padding:{itemSelector:"padding",parentSelector:"tab-property"},"youtube-frame":{itemSelector:"youtube-frame",parentSelector:"tab-property"},hyperlink:{itemSelector:"hyperlink",parentSelector:"tab-property"},button:{itemSelector:"button",parentSelector:"tab-property"},"image-settings":{itemSelector:"image-settings",parentSelector:"tab-property"},"social-content":{itemSelector:"social-content",parentSelector:"tab-property"}},oe=[],ie=function(t,o){this.elem=t,this.$elem=e(t),this.options=o,this.langArr};ie.prototype={defaults:{elementJsonUrl:"elements.json",langJsonUrl:"lang.json",lang:"en",loading_color1:"#3B7694",loading_color2:"#09181F",showLoading:!0,blankPageHtmlUrl:"template-blank-page.html",loadPageHtmlUrl:"template-load-page.html",showContextMenu:!0,showContextMenu_FontFamily:!0,showContextMenu_FontSize:!0,showContextMenu_Bold:!0,showContextMenu_Italic:!0,showContextMenu_Underline:!0,showContextMenu_Strikethrough:!0,showContextMenu_Hyperlink:!0,showElementsTab:!0,showPropertyTab:!0,showCollapseMenu:!0,showBlankPageButton:!0,showCollapseMenuinBottom:!0,showMobileView:!0,showSettingsBar:!0,showSettingsPreview:!0,showSettingsExport:!0,showSettingsSendMail:!0,showSettingsSave:!0,showSettingsLoadTemplate:!0,showRowMoveButton:!0,showRowRemoveButton:!0,showRowDuplicateButton:!0,showRowCodeEditorButton:!0,onSettingsPreviewButtonClick:function(e){},onSettingsExportButtonClick:function(e){},onBeforeSettingsSaveButtonClick:function(e){},onSettingsSaveButtonClick:function(e){},onBeforeSettingsLoadTemplateButtonClick:function(e){},onSettingsSendMailButtonClick:function(e){},onBeforeChangeImageClick:function(e){},onBeforePopupSelectImageButtonClick:function(e){},onBeforePopupSelectTemplateButtonClick:function(e){},onPopupSaveButtonClick:function(e){},onPopupSendMailButtonClick:function(e){},onPopupUploadImageButtonClick:function(e){},onTemplateDeleteButtonClick:function(e){},onBeforeRowRemoveButtonClick:function(e){},onAfterRowRemoveButtonClick:function(e){},onBeforeRowDuplicateButtonClick:function(e){},onAfterRowDuplicateButtonClick:function(e){},onBeforeRowEditorButtonClick:function(e){},onAfterRowEditorButtonClick:function(e){},onBeforeShowingEditorPopup:function(e){},onAfterLoad:function(e){},onElementDragStart:function(e){},onElementDragFinished:function(e,t){},onUpdateButtonClick:function(e){}},init:function(){return r=this,r.config=e.extend({},this.defaults,this.options),r.show_loading(),e.ajax({url:r.config.loadPageHtmlUrl,data:"",success:function(e){y=e,r.getLangs(),r.getBlankPageHtml()},error:function(){console.error("Has error")}}),this},show_loading:function(){1==r.config.showLoading&&r.display('<div class="loading-container"><div class="loading"><div class="loading-bounce-1" style="background-color:'+r.config.loading_color1+'"></div><div class="loading-bounce-2" style="background-color:'+r.config.loading_color2+'"></div></div></div>')},generate:function(e){d='<div class="nav"><ul class="left-menu">',1==r.config.showElementsTab&&(d+='<li class="menu-item tab-selector active" data-tab-selector="tab-elements"><i class="fa fa-puzzle-piece"></i><span class="menu-name">'+r.langArr.elementsTab+"</span></li>"),1==r.config.showPropertyTab&&(d+='<li class="menu-item tab-selector" data-tab-selector="tab-property"><i class="fa fa-pencil"></i><span class="menu-name">'+r.langArr.propertyTab+"</span></li>"),1==r.config.showBlankPageButton&&(d+='<li class="menu-item blank-page"><i class="fa fa-file"></i><span class="menu-name">'+r.langArr.blankPage+"</span></li>"),1==r.config.showCollapseMenu&&(j="",1==r.config.showCollapseMenuinBottom&&(j="btn-collapse-bottom "),d+='<li class="menu-item collapse '+j+'"><i class="fa fa-chevron-circle-left"></i><span class="menu-name">'+r.langArr.collapseMenu+"</span></li>"),d+="</ul></div>",q="",1==r.config.showSettingsBar&&(q='<div class="settings"><ul>',1==r.config.showSettingsPreview&&(q+='<li class="setting-item preview" data-toggle="tooltip" title="'+r.langArr.settingsPreview+'"><i class="fa fa-eye"></i></li>'),1==r.config.showSettingsExport&&(q+='<li class="setting-item export" data-toggle="tooltip" title="'+r.langArr.settingsExport+'"><i class="fa fa-share"></i></li>'),1==r.config.showSettingsSave&&(q+='<li class="setting-item save-template" data-toggle="tooltip" title="'+r.langArr.settingsSaveTemplate+'"><i class="fa fa-floppy-o"></i></li>'),1==r.config.showSettingsLoadTemplate&&(q+='<li class="setting-item load-templates" data-toggle="tooltip" title="'+r.langArr.settingsLoadTemplate+'"><i class="fa fa-file-text"></i></li>'),1==r.config.showSettingsSendMail&&(q+='<li class="setting-item send-email" data-toggle="tooltip" title="'+r.langArr.settingsSendMail+'"><i class="fa fa-envelope"></i></li>'),1==r.config.showMobileView&&(q+='<li class="setting-item other-devices" data-toggle="tooltip" title="" data-original-title="'+r.langArr.setttingsMobileViewTitle+'"><i class="fa fa-mobile"></i></li><div class="setting-content">  <div class="setting-content-item other-devices">    <ul>    <li class="setting-device-tab mobile " data-tab="mobile-content">    <i class="fa fa-mobile"></i>    </li>    <li class="setting-device-tab desktop active" data-tab="desktop-content">    <i class="fa fa-desktop"></i>    </li>    </ul>    <div>      <div class="mobile-content setting-device-content ">'+r.langArr.setttingsMobileViewMobileDesc+'</div>      <div class="desktop-content setting-device-content active">'+r.langArr.setttingsMobileViewDesktopDesc+"</div>    </div>  </div>  </div>"),q+="</ul></div>"),O='<div class="tab-elements element-tab active"><ul class="elements-accordion">'+e+"</ul></div>",F='<div class="tab-property element-tab"> <ul class="elements-accordion"> <li class="elements-accordion-item" data-type="background">   <a class="elements-accordion-item-title">'+r.langArr.propertyBG+'</a>   <div class="elements-accordion-item-content clearfix">   <div id="bg-color" class="bg-color bg-item" setting-type="background-color">   <i class="fa fa-adjust"></i> </div> </div> </li>   <li class="elements-accordion-item" data-type="padding">     <a class="elements-accordion-item-title">'+r.langArr.propertyPadding+'</a>   <div class="elements-accordion-item-content">     <div class=" element-boxs clearfix ">       <div class="big-box col-sm-6 ">         <input type="text" class="form-control padding all" setting-type="padding">   </div> <div class="small-boxs col-sm-6"> <div class="row">   <input type="text" class="form-control padding number" setting-type="padding-top">   </div>   <div class="row clearfix">     <div class="col-sm-6">         <input type="text" class="form-control padding number" setting-type="padding-left">   </div>   <div class="col-sm-6"> <input type="text" class="form-control padding number" setting-type="padding-right"> </div> </div>   <div class="row">   <input type="text" class="form-control padding number" setting-type="padding-bottom">   </div>   </div> </div>   </div>   </li>   <li class="elements-accordion-item" data-type="border-radius">   <a class="elements-accordion-item-title">'+r.langArr.propertyBorderRadius+'</a>   <div class="elements-accordion-item-content">   <div class=" element-boxs border-radius-box clearfix ">   <div class="big-box col-sm-6 ">     <input type="text" class="form-control border-radius all" setting-type="border-radius">     </div>   <div class="small-boxs col-sm-6">     <div class="row clearfix">   <div class="col-sm-6">     <input type="text" class="form-control border-radius" setting-type="border-top-left-radius">     </div> <div class="col-sm-6">   <input type="text" class="form-control border-radius" setting-type="border-top-right-radius">   </div> </div>   <div class="row clearfix margin">   <div class="col-sm-6">   <input type="text" class="form-control border-radius" setting-type="border-bottom-left-radius">   </div> <div class="col-sm-6"> <input type="text" class="form-control border-radius" setting-type="border-bottom-right-radius"> </div> </div> </div> </div> </div> </li> <li class="elements-accordion-item" data-type="text-style">   <a class="elements-accordion-item-title">'+r.langArr.propertyTextStyle+'</a>   <div class="elements-accordion-item-content">   <div class="element-boxs text-style-box clearfix ">   <div class="element-font-family col-sm-8">   <select class="form-control font-family" setting-type="font-family">     <option value="Arial">Arial</option>   <option value="Helvetica">Helvetica</option> <option value="Georgia">Georgia</option><option value="Times New Roman">Times New Roman</option><option value="Verdana">Verdana</option><option value="Tahoma">Tahoma</option><option value="Calibri">Calibri</option></select></div><div class="element-font-size col-sm-4">  <input type="text" name="name" class="form-control number" value="14" setting-type="font-size" /></div><div class="icon-boxs text-icons clearfix"><div class="icon-box-item fontStyle" setting-type="font-style" setting-value="italic"><i class="fa fa-italic"></i></div><div class="icon-box-item active underline " setting-type="text-decoration" setting-value="underline"><i class="fa fa-underline"></i></div><div class="icon-box-item line " setting-type="text-decoration" setting-value="line-through">  <i class="fa fa-strikethrough"></i></div></div><div class="icon-boxs align-icons clearfix"><div class="icon-box-item left active"><i class="fa fa-align-left"></i></div><div class="icon-box-item center ">  <i class="fa fa-align-center"></i></div><div class="icon-box-item right">  <i class="fa fa-align-right"></i>  </div></div>  <div class="clearfix"></div>  <div class="icon-boxs text-icons ">  <div id="text-color" class="icon-box-item text-color" setting-type="color">  </div>  Text Color  </div><div class="icon-boxs font-icons clearfix"><div class="icon-box-item" setting-type="bold"><i class="fa fa-bold"></i></div></div></div></div>  </li><li class="elements-accordion-item" data-type="social-content">  <a class="elements-accordion-item-title">'+r.langArr.propertySocialContent+'</a><div class="elements-accordion-item-content">  <div class="col-sm-12 social-content-box">  <div class="row" data-social-type="instagram"><label class="small-title">Instagram</label><input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title"><input type="checkbox" name="name" /> Show</label></div>  <div class="row" data-social-type="pinterest"><label class="small-title">Pinterest</label>  <input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title"><input type="checkbox" name="name" /> Show  </label></div><div class="row" data-social-type="google-plus">  <label class="small-title">Google+</label><input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title">  <input type="checkbox" name="name" checked /> Show</label></div>  <div class="row" data-social-type="facebook">  <label class="small-title">Facebook</label>  <input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title"><input type="checkbox" name="name" checked /> Show</label></div>  <div class="row" data-social-type="twitter"><label class="small-title">Twitter</label><input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title">  <input type="checkbox" name="name" checked /> Show</label></div><div class="row" data-social-type="linkedin"><label class="small-title">Linkedin</label><input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title"><input type="checkbox" name="name" checked /> Show</label></div><div class="row" data-social-type="youtube">  <label class="small-title">Youtube</label>  <input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title">  <input type="checkbox" name="name" checked /> Show  </label></div><div class="row" data-social-type="skype"><label class="small-title">Skype</label>  <input type="text" name="name" value="#" class="social-input" /><label class="checkbox-title">  <input type="checkbox" name="name" checked /> Show</label></div></div>  </div></li><li class="elements-accordion-item" data-type="youtube-frame"><a class="elements-accordion-item-title">Youtube</a><div class="elements-accordion-item-content"><div class="social-content-box "><label>Youtube Url</label><input type="text" class=" youtube" setting-type=""></div></div></li>  <li class="elements-accordion-item" data-type="width"><a class="elements-accordion-item-title">'+r.langArr.propertyEmailWidth+'</a><div class="elements-accordion-item-content">  <div class="social-content-box "><label>Width</label><input type="text" class="email-width number" setting-type=""><span class="help">'+r.langArr.propertyEmailWidthHelp+'</span>  </div></div></li><li class="elements-accordion-item" data-type="image-settings"><a class="elements-accordion-item-title">'+r.langArr.propertyImageSettings+'</a><div class="elements-accordion-item-content"><div class="social-content-box "><div class="change-image">'+r.langArr.propertyChangeImage+'</div><label>Image width</label><input type="text" class="image-width  image-size " setting-type="" ><label>Image height</label><input type="text" class="image-height  image-size" setting-type=""></div></div></li><li class="elements-accordion-item" data-type="hyperlink"><a class="elements-accordion-item-title">'+r.langArr.propertyHyperlink+'</a><div class="elements-accordion-item-content"><div class="social-content-box "><label>Url</label><input type="text" class="hyperlink-url" setting-type=""></div></div>  </li><li class="elements-accordion-item" data-type="button"><a class="elements-accordion-item-title">'+r.langArr.propertyButton+'</a><div class="elements-accordion-item-content"><div class="social-content-box "><label>Text</label><input type="text" class="button-text" setting-type=""></div><div class="social-content-box "><label>Hyperlink</label><input type="text" class="button-hyperlink" setting-type=""></div><div class="social-content-box "><label>Text color</label><br> <div id="button-text-color" class="bg-color bg-item" setting-type="">   <i class="fa fa-adjust"></i> </div></div><br><div class="social-content-box "><br><label>Background color</label><br> <div id="button-bg-color" class="bg-color bg-item" setting-type="">   <i class="fa fa-adjust"></i> </div></div><div class="social-content-box "><br><br><label class="checkbox-title"><input type="checkbox" name="button-full-width" class="button-full-width"> Full width</label></div></div>  </li></ul></div>',Y='<div class="elements-container">'+O+F+"</div>",J='<div class="elements">'+Y+q+"</div>",x='<aside class="left-menu-container clearfix">'+d+J+"</aside>",_='<div class="content"><div id="editorContent" class="content-wrapper" data-types="background,padding,width"><div class="content-main lg-width"><div class="email-editor-elements-sortable"><div class="sortable-row"><div class="sortable-row-container"><div class="sortable-row-actions"><div class="row-move row-action"><i class="fa fa-arrows-alt"></i></div><div class="row-remove row-action"><i class="fa fa-remove"></i></div><div class="row-duplicate row-action"><i class="fa fa-files-o"></i></div><div class="row-code row-action"><i class="fa fa-code"></i></div></div><div class="sortable-row-content">'+y+"</div></div></div></div></div></div></div>",V="",z='<div class="editor-container clearfix"> '+x+_+V+"</div>",r.generatePopups(),r.display(z),r.default_func(),r.events()},generatePopups:function(){h='<div class="modal fade popup_images" id="popup_images" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">'+r.langArr.popupImageTitle+'</h4></div><div class="modal-body"><div class="row"><div class="col-sm-6"><input type="file" class="input-file" accept="image/*" ></div><div class="col-sm-6"><button class="btn-upload">'+r.langArr.popupImageUpload+'</button></div></div><div class="upload-images"> <div class="row">     </div></div></div><div class="modal-footer"><button type="button" class="btn btn-success btn-select" >'+r.langArr.popupImageOk+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+r.langArr.popupImageClose+"</button> </div></div></div></div>",jQuery(h).appendTo("body"),i='<div class="modal fade " id="popup_save_template" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">'+r.langArr.popupSaveTemplateTitle+"<br><small>"+r.langArr.popupSaveTemplateSubTitle+'</small></h4></div><div class="modal-body"><div class="row"><div class="col-sm-12"><input type="text" class="form-control template-name" placeholder="'+r.langArr.popupSaveTemplatePLaceHolder+'"  ><br><label class="input-error" style="color:red"></label></div></div></div><div class="modal-footer"><button type="button" class="btn btn-success btn-save-template" >'+r.langArr.popupSaveTemplateOk+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+r.langArr.popupSaveTemplateClose+"</button></div></div></div></div>",jQuery(i).appendTo("body"),n='<div class="modal fade modal-wide" id="popup_editor" role="dialog"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">'+r.langArr.popupEditorTitle+'<br/>  <small></small></h4>  </div><div class="modal-body"><div id="editorHtml" class=""></div></div><div class="modal-footer"><button type="button" class="btn btn-success btn-save-editor" >'+r.langArr.popupEditorOk+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+r.langArr.popupEditorClose+"</button></div></div></div></div>",jQuery(n).appendTo("body"),l='<div class="modal fade " id="popup_send_email" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">'+r.langArr.popupSendEmailTitle+"<br><small>"+r.langArr.popupSendEmailSubTitle+'</small></h4>  </div><div class="modal-body">  <div class="row"><div class="col-sm-12">  <input type="email" class="form-control recipient-email" placeholder="'+r.langArr.popupSendEmailPlaceHolder+'"  > <br> <label>Select attachment</label><input type="file" id="send_attachments" multiple=""  /><br><label class="popup_send_email_output" style="color:red"></label></div></div></div><div class="modal-footer"><button type="button" class="btn btn-success btn-send-email-template" >'+r.langArr.popupSendEmailOk+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+r.langArr.popupSendEmailClose+"</button></div></div></div></div>",jQuery(l).appendTo("body"),s='<div class="modal fade " id="popup_demo" role="dialog"><div class="modal-dialog">  <div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Demo<br></h4>  </div><div class="modal-body"><label  style="color:red">This is demo version. There is not access to use more.If you want to more please buy plugin.<a href="https://codecanyon.net/item/email-newsletter-builder-php-version/18060733" title="Buy">Buy Plugin</a></label></div><div class="modal-footer">  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>  </div></div></div></div>',jQuery(s).appendTo("body"),c='<div class="modal fade " id="popup_load_template" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">'+r.langArr.popupLoadTemplateTitle+"<br><small>"+r.langArr.popupLoadTemplateSubtitle+'</small></h4></div><div class="modal-body"><div class="template-list"></div><label class="template-load-error" style="color:red"></label></div><div class="modal-footer"><button type="button" class="btn btn-success btn-load-template" >'+r.langArr.popupLoadTemplateOk+'</button><button type="button" class="btn btn-default" data-dismiss="modal">'+r.langArr.popupLoadTemplateClose+"</button></div></div></div></div>",
jQuery(c).appendTo("body")},display:function(e){r.$elem.html(e)},default_func:function(){r.$elem.find(".elements-container").niceScroll({cursorcolor:"#5D8397",cursorwidth:"10px",background:"#253843"}),jQuery('[data-toggle="tooltip"]').tooltip(),r.$elem.find("#bg-color").ColorPicker({color:"#fff",onChange:function(t,o,i){e("#bg-color").css("background-color","#"+o),r.changeSettings(e("#bg-color").attr("setting-type"),"#"+o)}}),r.$elem.find("#button-bg-color").ColorPicker({color:"#3498DB",onChange:function(t,o,i){e("#button-bg-color").css("background-color","#"+o),r.getActiveElementContent().find("a").css("background-color","#"+o)}}),r.$elem.find("#button-text-color").ColorPicker({color:"#fff",onChange:function(t,o,i){e("#button-text-color").css("background-color","#"+o),r.getActiveElementContent().find("a").css("color","#"+o)}}),r.$elem.find("#text-color").ColorPicker({color:"#000",onChange:function(t,o,i){e("#text-color").css("background-color","#"+o),r.changeSettings(e("#text-color").attr("setting-type"),"#"+o)}}),setTimeout(function(){jQuery(".content-wrapper").click(),r.tabMenu("typography")},100),r.makeSortable(),o=ace.edit("editorHtml"),o.setTheme("ace/theme/monokai"),o.getSession().setMode("ace/mode/html"),r.tinymceContextMenu(),r.remove_row_elements(),e(".content-wrapper").removeAttr("contenteditable"),r.commandsUndoManager()},remove_row_elements:function(){jQuery(".sortable-row-actions").html(""),0==r.config.showRowMoveButton?jQuery(".row-move").remove():jQuery(".sortable-row-actions").append('<div class="row-move row-action"><i class="fa fa-arrows-alt"></i></div>'),0==r.config.showRowRemoveButton?jQuery(".row-remove").remove():jQuery(".sortable-row-actions").append('<div class="row-remove row-action"><i class="fa fa-remove"></i></div>'),0==r.config.showRowDuplicateButton?jQuery(".row-duplicate").remove():jQuery(".sortable-row-actions").append('<div class="row-duplicate row-action"><i class="fa fa-files-o"></i></div>'),0==r.config.showRowCodeEditorButton?jQuery(".row-code").remove():jQuery(".sortable-row-actions").append('<div class="row-code row-action"><i class="fa fa-code"></i></div>')},getActiveElementContent:function(){return W=r.$elem.find(".sortable-row.active .sortable-row-content .element-content"),W.find('[contenteditable="true"]').hasClass("element-contenteditable")&&(W=W.find(".element-contenteditable.active")),r.$elem.find(".content-wrapper").hasClass("active")&&(W=r.$elem.find(".content-wrapper")),W},makeSortable:function(){r.$elem.find(".email-editor-elements-sortable").sortable({placeholder:"editor-elements-placeholder",forcePlaceholderSize:!0,handle:".row-move",revert:!0})},events:function(){jQuery(function(){r.config.onAfterLoad!==t&&r.config.onAfterLoad(),r.makeSortable(),jQuery(".content-main").attr("data-width","600px"),jQuery(".main").css("width","600px")}),r.$elem.find(".tab-selector").on("click",function(){W=e(this),r.tabMenuItemClick(W,!0)}),r.$elem.find(".elements-accordion .elements-accordion-item-title").on("click",function(t){W=e(this),r.menuAccordionClick(W,!1)}),r.$elem.find(".collapse").on("click",function(){W=e(this),ee=W.attr("data-value"),"closed"===ee?(r.$elem.find(".left-menu-container").animate({width:380},300,function(){r.$elem.find(".elements").show(),r.$elem.find(".content").css({"padding-left":"380px"}),r.$elem.find(".left-menu-container").find(".menu-item:eq(0)").addClass("active")}),W.find(".menu-name").show(),W.find(".fa").removeClass().addClass("fa fa-chevron-circle-left"),W.attr("data-value","opened")):(r.$elem.find(".left-menu-container").animate({width:70},300,function(){r.$elem.find(".elements").hide(),r.$elem.find(".left-menu-container").find(".menu-item.active").removeClass("active")}),r.$elem.find(".content").css({"padding-left":"70px"}),W.find(".menu-name").hide(),W.find(".fa").removeClass().addClass("fa fa-chevron-circle-right"),W.attr("data-value","closed"))}),r.$elem.find(".blank-page").on("click",function(){W=e(this),swal({title:r.langArr.modalDeleteTitle,text:r.langArr.modalDeleteText,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:r.langArr.modalDeleteconfirmButtonText,cancelButtonText:r.langArr.modalDeletecancelButtonText,confirmButtonClass:"btn btn-success btn-margin",cancelButtonClass:"btn btn-danger",buttonsStyling:!1}).then(function(){r.$elem.find(".content-main").html('<div class="email-editor-elements-sortable"><div class="sortable-row"><div class="sortable-row-container"><div class="sortable-row-actions"><div class="row-move row-action"><i class="fa fa-arrows-alt"></i></div><div class="row-remove row-action"><i class="fa fa-remove"></i></div><div class="row-duplicate row-action"><i class="fa fa-files-o"></i></div><div class="row-code row-action"><i class="fa fa-code"></i></div></div><div class="sortable-row-content">'+a+"</div></div></div></div>"),r.makeSortable(),r.remove_row_elements(),jQuery(".project-container").hide(),jQuery(".project-name").attr("data-id","")},function(e){})}),r.$elem.find(".elements-container .sortable-row-content").each(function(t){W=e(this),function(t){e.get(t.attr("data-url"),function(e){t.html(e.split("[site-url]").join(r.getAbsolutePath()))})}(W)}),r.$elem.find(".elements-list .elements-list-item").draggable({connectToSortable:".email-editor-elements-sortable",helper:"clone",create:function(e,t){},drag:function(e,t){},start:function(e,o){r.$elem.find(".elements-container").css({overflow:""}),o.helper.find(".preview").hide(),o.helper.find(".view").show(),r.config.onElementDragStart!==t&&r.config.onElementDragStart(e)},stop:function(e,o){r.$elem.find(".elements-container").css({overflow:"hidden"}),o.helper.html(o.helper.find(".view").html()),r.$elem.find(".email-editor-elements-sortable .elements-list-item").css({width:"auto",height:"auto"});var i=r.getContentHtml();r.config.onElementDragFinished!==t&&r.config.onElementDragFinished(e,i)}}),r.$elem.on("click",".content-wrapper",function(e){if(r.$elem.find(".sortable-row.active").removeClass("active"),r.$elem.find(".sortable-row .element-contenteditable.active").removeClass(".element-contenteditable .active"),jQuery(this).addClass("active"),R=jQuery(this).attr("data-types"),!(R.length<1)){I=R.toString().split(","),D=r.$elem.find(".tab-property .elements-accordion-item").length;for(var t=0;t<D;t++)Z=r.$elem.find(".tab-property .elements-accordion-item").eq(t),R.indexOf(Z.attr("data-type"))>-1?Z.show():Z.hide();r.$elem.find('[setting-type="padding-top"]').val(jQuery(this).css("padding-top").replace("px","")),r.$elem.find('[setting-type="padding-bottom"]').val(jQuery(this).css("padding-bottom").replace("px","")),r.$elem.find('[setting-type="padding-left"]').val(jQuery(this).css("padding-left").replace("px","")),r.$elem.find('[setting-type="padding-right"]').val(jQuery(this).css("padding-right").replace("px","")),r.$elem.find(".email-width").val("100"==jQuery(".main").width()?"600":jQuery(".main").width()),r.tabMenu(I[0])}}),r.events_of_row(),r.events_of_property(),r.events_of_popup(),r.events_of_setting(),r.remove_row_elements()},events_of_row:function(){r.$elem.on("click",".sortable-row .row-remove",function(e){return r.config.onBeforeRemoveButtonClick!==t&&r.config.onBeforeRemoveButtonClick(e),1!=e.isDefaultPrevented()&&(1==r.$elem.find(".content .sortable-row").length?void alert("At least should be 1 item"):(jQuery(this).parents(".sortable-row").remove(),void(r.config.onAfterRemoveButtonClick!==t&&r.config.onAfterRemoveButtonClick(e))))}),r.$elem.on("click",".sortable-row .row-duplicate",function(e){return r.config.onBeforeRowDuplicateButtonClick!==t&&r.config.onBeforeRowDuplicateButtonClick(e),1!=e.isDefaultPrevented()&&(U=jQuery(this).hasParent(".elements-list-item")?".elements-list-item":".sortable-row",L=jQuery(this).parents(U),jQuery(".sortable-row").removeClass("active"),jQuery(".elements-list-item").removeClass("active"),L.addClass("active"),L.clone().insertAfter(U+".active"),void(r.config.onAfterRowDuplicateButtonClick!==t&&r.config.onAfterRowDuplicateButtonClick(e)))}),r.$elem.on("click",".sortable-row .row-code",function(e){return r.config.onBeforeRowEditorButtonClick!==t&&r.config.onBeforeRowEditorButtonClick(e),1!=e.isDefaultPrevented()&&(jQuery(this).parents(".sortable-row").addClass("code-editor"),E=jQuery(this).parents(".sortable-row").find(".sortable-row-content").html(),o.session.setValue(E),r.config.onAfterRowEditorButtonClick!==t&&r.config.onAfterRowEditorButtonClick(e),r.config.onBeforeShowingEditorPopup!==t&&r.config.onBeforeShowingEditorPopup(e),1!=e.isDefaultPrevented()&&void jQuery("#popup_editor").modal("show"))}),r.$elem.on("click",".element-content",function(e){jQuery(".content-wrapper").removeClass("active"),r.$elem.find('[contenteditable="true"]').removeClass("element-contenteditable active"),r.sortableClick(jQuery(this)),e.stopPropagation()}),r.$elem.on("click",'[contenteditable="true"]',function(e){jQuery(".content-wrapper").removeClass("active"),r.$elem.find('.content [contenteditable="true"]').removeClass("element-contenteditable active"),jQuery(this).addClass("element-contenteditable active"),r.sortableClick(jQuery(this)),e.stopPropagation()})},events_of_property:function(){r.$elem.on("keyup",".email-width",function(e){return W=jQuery(this),P=jQuery(".email-width").val(),!(parseInt(P)<300||parseInt(P)>1e3)&&(jQuery(".content-main").attr("data-width",P),void jQuery(".main").css("width",P+"px"))}),r.$elem.on("keyup",".elements-accordion-item-content .hyperlink-url",function(e){W=jQuery(this),P=W.val(),A=r.getActiveElementContent(),A.attr("href",P)}),r.$elem.on("keyup",".elements-accordion-item-content .button-text",function(e){W=jQuery(this),P=W.val(),A=r.getActiveElementContent(),A.find("a").text(P)}),r.$elem.on("keyup",".elements-accordion-item-content .button-hyperlink",function(e){W=jQuery(this),P=W.val(),A=r.getActiveElementContent(),A.find("a").attr("href",P)}),r.$elem.on("change",".elements-accordion-item-content .button-full-width",function(t){W=jQuery(this),A=r.getActiveElementContent(),1==e(".button-full-width").is(":checked")?A.find("a").css("display","block"):A.find("a").css("display","inline-block")}),r.$elem.on("keyup",".elements-accordion-item-content .youtube",function(e){W=jQuery(this),P=W.val(),A=r.getActiveElementContent(),A.find("a").attr("href",P),console.log(r.getYoutubeVideoId(P)),A.find("table").css("background-image","url('https://img.youtube.com/vi/"+r.getYoutubeVideoId(P)+"/sddefault.jpg')")}),r.$elem.on("click",".text-icons .icon-box-item",function(e){W=jQuery(this),W.hasClass("active")?W.removeClass("active"):W.addClass("active"),r.$elem.find(".text-icons .icon-box-item.fontStyle").hasClass("active")?r.changeSettings("font-style","italic"):r.changeSettings("font-style",""),M="",r.$elem.find(".text-icons .icon-box-item.underline").hasClass("active")&&(M+="underline "),r.$elem.find(".text-icons .icon-box-item.line").hasClass("active")&&(M+=" line-through"),r.changeSettings("text-decoration",M)}),r.$elem.on("click",".font-icons .icon-box-item",function(e){W=jQuery(this),W.hasClass("active")?W.removeClass("active"):W.addClass("active"),r.$elem.find(".font-icons .icon-box-item").hasClass("active")?r.changeSettings("font-weight","bold"):r.changeSettings("font-weight","")}),r.$elem.on("click",".align-icons .icon-box-item",function(e){W=jQuery(this),r.$elem.find(".align-icons .icon-box-item").removeClass("active"),W.addClass("active"),M="left",r.$elem.find(".align-icons .icon-box-item.center").hasClass("active")&&(M="center"),r.$elem.find(".align-icons .icon-box-item.right").hasClass("active")&&(M="right"),r.changeSettings("text-align",M)}),r.$elem.on("change",".left-menu-container  .form-control",function(e){W=jQuery(this),r.changeSettings(W.attr("setting-type"),W.val())}),r.$elem.on("keyup",".left-menu-container .form-control",function(e){W=jQuery(this),W.hasClass("all")&&W.hasClass("padding")&&r.$elem.find('.padding:not(".all")').val(W.val()),W.hasClass("all")&&W.hasClass("border-radius")&&r.$elem.find('.border-radius:not(".all")').val(W.val()),r.changeSettings(W.attr("setting-type"),W.val()+"px")}),r.$elem.on("keyup",".social-content-box .social-input",function(e){W=jQuery(this),Q=W.parents(".row").attr("data-social-type"),P=W.val(),A=r.getActiveElementContent(),A.hasClass("social-content")&&A.find("a."+Q).attr("href",P)}),r.$elem.on("keyup",".image-size",function(e){A=r.getActiveElementContent(),jQuery(this).hasClass("image-height")?A.find(".content-image").css("height",jQuery(this).val()):jQuery(this).hasClass("image-width")&&A.find(".content-image").css("width",jQuery(this).val())}),r.$elem.on("keydown",".number",function(t){e.inArray(t.keyCode,[46,8,9,27,13,110,190])===-1&&(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()}),r.$elem.on("change",".social-content-box .checkbox-title input",function(e){Q=jQuery(this).parents(".row").attr("data-social-type"),A=r.getActiveElementContent(),jQuery(this).is(":checked")?A.find("a."+Q).show():A.find("a."+Q).hide()})},getYoutubeVideoId:function(e){return b=e.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/),null!=b?b[1]:""},events_of_setting:function(){r.$elem.on("click",".setting-item.other-devices",function(e){W=jQuery(this),L=W.parents(".settings"),W.hasClass("active")?(L.find(".setting-content .setting-content-item.other-devices").hide(),W.removeClass("active")):(L.find(".setting-content .setting-content-item.other-devices").show(),W.addClass("active"))}),r.$elem.on("click",".setting-content .setting-device-tab",function(e){switch(W=jQuery(this),L=W.parents(".setting-content"),L.find(".setting-device-tab").removeClass("active"),W.addClass("active"),L.find(".setting-device-content").removeClass("active"),L.find(".setting-device-content."+W.attr("data-tab")).addClass("active"),f="sm-width lg-width",v="",W.attr("data-tab")){case"mobile-content":v="sm-width",r.$elem.find(".email-editor-elements-sortable").css({"margin-left":"-150px"});break;case"desktop-content":v="lg-width",r.$elem.find(".email-editor-elements-sortable").css({"margin-left":"0"})}r.$elem.find(".content-main").removeClass(f),r.$elem.find(".content-main").addClass(v)}),r.$elem.on("click",".setting-item.load-templates",function(o){return r.config.onBeforeSettingsLoadTemplateButtonClick!==t&&r.config.onBeforeSettingsLoadTemplateButtonClick(o),1!=o.isDefaultPrevented()&&(jQuery(".btn-load-template").hide(),void e("#popup_load_template").modal("show"))}),r.$elem.on("click",".setting-item.export",function(e){if(g=r.getContentHtml(),r.config.onSettingsExportButtonClick!==t&&r.config.onSettingsExportButtonClick(e,g),1==e.isDefaultPrevented())return!1}),r.$elem.on("click",".setting-item.preview",function(e){if(g=r.getContentHtml(),r.config.onSettingsPreviewButtonClick!==t&&r.config.onSettingsPreviewButtonClick(e,g),1==e.isDefaultPrevented())return!1}),r.$elem.on("click",".setting-item.save-template",function(e){return r.config.onBeforeSettingsSaveButtonClick!==t&&r.config.onBeforeSettingsSaveButtonClick(e),1!=e.isDefaultPrevented()&&(jQuery(".input-error").text(""),jQuery(".template-name").val(""),void jQuery("#popup_save_template").modal("show"))}),jQuery("#popup_save_template").on("click",".btn-save-template",function(e){return jQuery(".input-error").text(""),jQuery(".template-name").val().length<1?(jQuery(".input-error").text(r.langArr.popupSaveTemplateError),!1):(r.config.onPopupSaveButtonClick!==t&&r.config.onPopupSaveButtonClick(e),1!=e.isDefaultPrevented()&&void 0)}),jQuery(document).on("click",".btn-save",function(e){if(r.config.onUpdateButtonClick!==t&&r.config.onUpdateButtonClick(e),1==e.isDefaultPrevented())return!1}),r.$elem.on("click",".setting-item.send-email",function(e){return r.config.onSettingsSendMailButtonClick!==t&&r.config.onSettingsSendMailButtonClick(e),1!=e.isDefaultPrevented()&&(jQuery(".recipient-email").val(""),jQuery("#send_attachments").val(""),jQuery(".popup_send_email_output").text(""),void jQuery("#popup_send_email").modal("show"))}),jQuery("#popup_send_email").on("click",".btn-send-email-template",function(o){if(W=e(this),!e(this).hasClass("has-loading"))return W.addClass("has-loading"),W.text(r.langArr.loading),g=r.getContentHtml(),r.config.onPopupSendMailButtonClick!==t&&r.config.onPopupSendMailButtonClick(o,g),1!=o.isDefaultPrevented()&&void 0}),r.$elem.on("click",".change-image",function(e){return r.config.onBeforeChangeImageClick!==t&&r.config.onBeforeChangeImageClick(e),1!=e.isDefaultPrevented()&&void jQuery("#popup_images").modal("show")}),jQuery("#popup_images").on("click",".upload-image-item",function(e){jQuery(".modal .upload-image-item").removeClass("active"),jQuery(this).addClass("active")}),jQuery("#popup_images").on("click",".btn-select",function(e){return r.config.onBeforePopupSelectImageButtonClick!==t&&r.config.onBeforePopupSelectImageButtonClick(e),1!=e.isDefaultPrevented()&&(S=jQuery(".modal").find(".upload-image-item.active").attr("src"),r.getActiveElementContent().find(".content-image").attr("src",S),void jQuery("#popup_images").modal("hide"))}),jQuery("#popup_load_template").on("click",".template-list .template-item",function(e){jQuery(".template-list .template-item").removeClass("active"),jQuery(this).addClass("active"),jQuery(".btn-load-template").show()}),jQuery("#popup_load_template").on("click",".template-item-delete",function(e){C=jQuery(this).parents(".template-item").attr("data-id"),e.stopPropagation(),r.config.onTemplateDeleteButtonClick!==t&&r.config.onTemplateDeleteButtonClick(e,C,jQuery(this).parents(".template-item"))}),jQuery("#popup_load_template").on("click",".btn-load-template",function(e){if(r.config.onBeforePopupSelectTemplateButtonClick!==t&&r.config.onBeforePopupSelectTemplateButtonClick(e),1==e.isDefaultPrevented())return!1;C=jQuery(".template-list .template-item.active").attr("data-id");var o=jQuery.grep(_templateListItems,function(e){return e.id==C});0==o.length&&jQuery(".template-load-error").text("An error has occurred"),k=jQuery("<div/>").html(o[0].content).text(),jQuery(".header .project-name").html(o[0].name),jQuery(".header .project-name").attr("data-id",C),jQuery(".project-container").show(),jQuery(".content-wrapper").html(k),jQuery("#popup_load_template").modal("hide"),r.makeSortable(),e.stopPropagation()}),jQuery("body").on("click",".btn-upload",function(e){if(r.config.onPopupUploadImageButtonClick!==t&&r.config.onPopupUploadImageButtonClick(e),1==e.isDefaultPrevented())return!1})},events_of_popup:function(){jQuery("#popup_editor").on("click",".btn-save-editor",function(){jQuery(".sortable-row.code-editor .sortable-row-content").html(o.getSession().getValue()),jQuery("#popup_editor").modal("hide"),jQuery(".sortable-row.code-editor").removeClass("code-editor")})},tabMenuItemClick:function(e,t){return G=e.data("tab-selector"),!e.hasClass("collapse")&&(r.$elem.find(".menu-item.active").removeClass("active"),r.$elem.find(".element-tab.active").removeClass("active"),r.$elem.find("."+G).addClass("active"),e.addClass("active"),void(t||r.$elem.find(".sortable-row.active").removeClass("active")))},menuAccordionClick:function(t,o){var i=t.closest(".elements-accordion-item").find(".elements-accordion-item-content");t.closest(".elements-accordion").find(".elements-accordion-item-content").not(i).slideUp(),e(".tab-property").hasClass("active")&&r.$elem.find(".sortable-row.active .main").attr("data-last-type",t.closest(".elements-accordion-item").attr("data-type")),o?(t.hasClass("active")?t.removeClass("active"):(t.closest(".elements-accordion").find(".elements-accordion-item-title.active").removeClass("active"),t.addClass("active")),i.stop(!1,!0).slideToggle()):(t.closest(".elements-accordion").find(".elements-accordion-item-title.active").removeClass("active"),t.addClass("active"),i.stop(!1,!0).slideDown())},tabMenu:function(e){X=te[e],K=r.$elem.find('.left-menu-container .menu-item[data-tab-selector="'+X.parentSelector+'"]'),Z=r.$elem.find('.elements-accordion .elements-accordion-item[data-type="'+X.itemSelector+'"] .elements-accordion-item-title'),r.tabMenuItemClick(K,!0),r.menuAccordionClick(Z,!1)},getContentHtml:function(){return m=r.$elem.find(".content-wrapper"),m.find("a").css({"word-wrap":"break-word"}),m.find("table").css({"border-spacing":"0","border-collapse":"collapse","mso-table-lspace":"collapse","mso-table-rspace":"collapse"}),m.find("table td").css({"border-collapse":"collapse"}),m.find("table, td, p, a, li").css({"-webkit-text-size-adjust":"100%","-ms-text-size-adjust":"100%"}),E="",r.$elem.find(".content .content-wrapper .sortable-row").each(function(){E+=jQuery(this).find(".sortable-row-content").html().split('contenteditable="true"').join("")}),B="100"==jQuery(".content-main").attr("data-width")?"600":jQuery(".content-main").attr("data-width"),"undefined"==typeof B&&(B="600px"),H="",H+="background:"+jQuery(".content-wrapper").css("background")+";",w="padding:"+jQuery(".content-wrapper").css("padding"),u='<div class="email-content" style="'+H+'">'+E+"</div>",u='<table width="100%" cellspacing="0" cellpadding="0" border="0" style="'+H+'"><tbody><tr><td><div style="margin:0 auto;width:'+B+";"+w+'">'+E+"</div></td></tr></table>"},generateElements:function(){z="",e.ajax({url:r.config.elementJsonUrl,data:"",success:function(e){e=e.elements;for(var t=0;t<e.length;t++){z+='<li class="elements-accordion-item" data-type="'+e[t].name.toLowerCase()+'"><a class="elements-accordion-item-title">'+e[t].name+"</a>",z+='<div class="elements-accordion-item-content"><ul class="elements-list">',N=e[t].items;for(var o=0;o<N.length;o++)z+='<li><div class="elements-list-item"><div class="preview"><div class="elements-item-icon"> <i class="'+N[o].icon+'"></i></div><div class="elements-item-name">'+N[o].name+'</div></div><div class="view"><div class="sortable-row"><div class="sortable-row-container"> <div class="sortable-row-actions">',1==r.config.showRowMoveButton&&(z+='<div class="row-move row-action"><i class="fa fa-arrows-alt"></i></div>'),1==r.config.showRowRemoveButton&&(z+='<div class="row-remove row-action"><i class="fa fa-remove"></i></div>'),1==r.config.showRowDuplicateButton&&(z+='<div class="row-duplicate row-action"><i class="fa fa-files-o"></i></div>'),1==r.config.showRowCodeEditorButton&&(z+='<div class="row-code row-action"><i class="fa fa-code"></i></div>'),z+='</div><div class="sortable-row-content" data-url="'+N[o].content+'"></div></div></div> </div></div></li>';z+="</ul></div>",z+="</li>"}r.generate(z)},error:function(){console.error("Has error")},dataType:"json"})},getAbsolutePath:function(){var e=window.location,t=e.pathname.substring(0,e.pathname.lastIndexOf("/")+1);return e.href.substring(0,e.href.length-((e.pathname+e.search+e.hash).length-t.length))},sortableClick:function(e){if(W=e.parents(".sortable-row"),r.$elem.find(".content .sortable-row").removeClass("active"),W.addClass("active"),R=W.find(".sortable-row-content .main").attr("data-types"),"undefined"!=typeof R&&!(R.length<1)){I=R.toString().split(","),D=r.$elem.find(".tab-property .elements-accordion-item").length;for(var t=0;t<D;t++)Z=r.$elem.find(".tab-property .elements-accordion-item").eq(t),R.indexOf(Z.attr("data-type"))>-1?Z.show():Z.hide();r.tabMenu(W.find(".sortable-row-content .main").attr("data-last-type")),r.getSettings()}},getSettings:function(){W=r.getActiveElementContent(),H=W.attr("style"),"undefined"==typeof H||H.length<1||(r.$elem.find('.tab-property .elements-accordion-item [setting-type="background-color"]').css("background-color",W.css("background-color")),r.$elem.find('.tab-property .elements-accordion-item [setting-type="padding-top"]').val(W.css("padding-top").replace("px","")),r.$elem.find('.tab-property .elements-accordion-item [setting-type="padding-bottom"]').val(W.css("padding-bottom").replace("px","")),r.$elem.find('.tab-property .elements-accordion-item [setting-type="padding-left"]').val(W.css("padding-left").replace("px","")),r.$elem.find('.tab-property .elements-accordion-item [setting-type="padding-right"]').val(W.css("padding-right").replace("px","")),r.$elem.find('.tab-property .elements-accordion-item [setting-type="border-top-left-radius"]').val(W.css("border-top-left-radius").replace("px","")),r.$elem.find('.tab-property .elements-accordion-item [setting-type="border-top-right-radius"]').val(W.css("border-top-right-radius").replace("px","")),r.$elem.find('.tab-property .elements-accordion-item [setting-type="border-bottom-left-radius"]').val(W.css("border-bottom-left-radius").replace("px","")),r.$elem.find('.tab-property .elements-accordion-item [setting-type="border-bottom-right-radius"]').val(W.css("border-bottom-right-radius").replace("px","")),r.$elem.find('.tab-property .elements-accordion-item [setting-type="font-family"]').val(W.css("font-family")),r.$elem.find('.tab-property .elements-accordion-item [setting-type="font-size"]').val(W.css("font-size").replace("px","")),r.$elem.find('.tab-property .icon-box-item[setting-type="color"]').css({background:W.css("color")}),r.$elem.find(".tab-property .align-icons .icon-box-item").removeClass("active"),r.$elem.find(".tab-property .align-icons .icon-box-item."+W.css("text-align")).addClass("active"),"bold"==W.css("font-weight")?r.$elem.find('.tab-property .icon-box-item[setting-type="bold"]').addClass("active"):r.$elem.find('.tab-property .icon-box-item[setting-type="bold"]').removeClass("active"),r.$elem.find(".tab-property .text-icons .icon-box-item").removeClass("active"),W.css("text-decoration").indexOf("underline")>-1&&r.$elem.find(".tab-property .text-icons .icon-box-item.underline").addClass("active"),W.css("text-decoration").indexOf("line-through")>-1&&r.$elem.find(".tab-property .text-icons .icon-box-item.line").addClass("active"),W.css("font-style").indexOf("italic")>-1&&r.$elem.find(".tab-property .text-icons .icon-box-item.fontStyle").addClass("active"),W.hasClass("social-content")&&e(".content .sortable-row.active .sortable-row-content .element-content.social-content a").each(function(){Q=jQuery(this).attr("class"),$=r.$elem.find('[data-social-type="'+Q+'"]'),$.find(".social-input").val(jQuery(this).attr("href")),"none"==jQuery(this).css("display")?$.find(".checkbox-title input").prop("checked",!1):$.find(".checkbox-title input").prop("checked",!0)}),W.hasClass("youtube-frame")&&(p=W.find("a").attr("href"),r.$elem.find(".youtube").val(p)),W.hasClass("hyperlink")&&(T=W.attr("href"),r.$elem.find(".hyperlink-url").val(T)),W.hasClass("button-1")&&(T=W.find("a").text(),r.$elem.find(".button-text").val(e.trim(T)),T=W.find("a").attr("href"),r.$elem.find(".button-hyperlink").val(e.trim(T))),r.$elem.find(".tab-property .elements-accordion-item .image-width").val(W.find(".content-image").css("width")),r.$elem.find(".tab-property .elements-accordion-item .image-height").val(W.find(".content-image").css("height")))},changeSettings:function(e,t){A=r.getActiveElementContent(),"font-size"==e?A.find(">h1,>h4").css(e,t):"background-image"==e&&(A.css(e,'url("'+t+'")'),A.css({"background-size":"cover","background-repeat":"no-repeat"})),A.hasClass("button-1")&&"border-radius"==e?A.find("a").css(e,t):A.css(e,t),"background-color"==e&&A.hasClass("content-wrapper")&&r.$elem.find(".content-main").css("background-color",t)},getSelectedHtml:function(){var e="";if("undefined"!=typeof window.getSelection){var t=window.getSelection();if(t.rangeCount){for(var o=document.createElement("div"),i=0,n=t.rangeCount;i<n;++i)o.appendChild(t.getRangeAt(i).cloneContents());e=o.innerHTML}}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(e=document.selection.createRange().htmlText);return e},tinymceContextMenu:function(){if(0==r.config.showContextMenu)return!1;var e="";1==r.config.showContextMenu_FontFamily&&(e+="fontselect "),1==r.config.showContextMenu_FontSize&&(e+="fontsizeselect "),1==r.config.showContextMenu_Bold&&(e+="bold "),1==r.config.showContextMenu_Italic&&(e+="italic "),1==r.config.showContextMenu_Underline&&(e+="underline "),1==r.config.showContextMenu_Strikethrough&&(e+="strikethrough "),1==r.config.showContextMenu_Hyperlink&&(e+="link "),e+=" | alignleft aligncenter alignright alignjustify | bullist numlist | forecolor backcolor |  unlink removeformat  ",tinymce.init({selector:"div.content-wrapper",theme:"inlite",plugins:" link textcolor",width:300,selection_toolbar:e,fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt 48pt 72pt",inline:!0,paste_data_images:!1})},getLangs:function(){e.ajax({url:r.config.langJsonUrl,data:"",success:function(e){jQuery.each(e,function(e,t){oe[e]=t[0]}),r.langArr=oe[r.config.lang],r.generateElements()},error:function(){console.error("Has error")},dataType:"json"})},getBlankPageHtml:function(){e.ajax({url:r.config.blankPageHtmlUrl,success:function(e){a=e},error:function(){console.error("Has error getBlankPageHtml")}})},commandsUndoManager:function(){}},e.fn.emailBuilder=function(e){var t;return this.setElementJsonUrl=function(e){t.config.elementJsonUrl=e},this.setLang=function(e){t.config.lang=e},this.setLangJsonUrl=function(e){t.config.langJsonUrl=e},this.setBlankPageHtmlUrl=function(e){t.config.blankPageHtmlUrl=e},this.setLoadPageHtmlUrl=function(e){t.config.loadPageHtmlUrl=e},this.setShowContextMenu=function(e){t.config.showContextMenu=e},this.setShowContextMenu_FontFamily=function(e){t.config.showContextMenu_FontFamily=e},this.setShowContextMenu_FontSize=function(e){t.config.showContextMenu_FontSize=e},this.setShowContextMenu_Bold=function(e){t.config.showContextMenu_Bold=e},this.setShowContextMenu_Italic=function(e){t.config.showContextMenu_Italic=e},this.setShowContextMenu_Underline=function(e){t.config.showContextMenu_Underline=e},this.setShowContextMenu_Strikethrough=function(e){t.config.showContextMenu_Strikethrough=e},this.setShowContextMenu_Hyperlink=function(e){t.config.showContextMenu_Hyperlink=e},this.setShowElementsTab=function(e){t.config.showElementsTab=e},this.setShowPropertyTab=function(e){t.config.showPropertyTab=e},this.setShowCollapseMenu=function(e){t.config.showCollapseMenu=e},this.setShowBlankPageButton=function(e){t.config.showBlankPageButton=e},this.setShowCollapseMenuinBottom=function(e){t.config.showCollapseMenuinBottom=e},this.setShowSettingsBar=function(e){t.config.showSettingsBar=e},this.setShowSettingsPreview=function(e){t.config.showSettingsPreview=e},this.setShowSettingsExport=function(e){t.config.showSettingsExport=e},this.setShowSettingsSendMail=function(e){t.config.showSettingsSendMail=e},this.setShowSettingsSave=function(e){t.config.showSettingsSave=e},this.setShowSettingsLoadTemplate=function(e){t.config.showSettingsLoadTemplate=e},this.setShowRowMoveButton=function(e){t.config.showRowMoveButton=e},this.setShowRowRemoveButton=function(e){t.config.showRowRemoveButton=e},this.setShowRowDuplicateButton=function(e){t.config.showRowDuplicateButton=e},this.setShowRowCodeEditorButton=function(e){t.config.showRowCodeEditorButton=e},this.init=function(){t.init()},this.setSettingsPreviewButtonClick=function(e){t.config.onSettingsPreviewButtonClick=e},this.setSettingsExportButtonClick=function(e){t.config.onSettingsExportButtonClick=e},this.setBeforeSettingsSaveButtonClick=function(e){t.config.onBeforeSettingsSaveButtonClick=e},this.setSettingsSaveButtonClick=function(e){t.config.onSettingsSaveButtonClick=e},this.setBeforeSettingsLoadTemplateButtonClick=function(e){t.config.onBeforeSettingsLoadTemplateButtonClick=e;
},this.setSettingsSendMailButtonClick=function(e){t.config.onSettingsSendMailButtonClick=e},this.setBeforeChangeImageClick=function(e){t.config.onBeforeChangeImageClick=e},this.setBeforePopupSelectImageButtonClick=function(e){t.config.onBeforePopupSelectImageButtonClick=e},this.setBeforePopupSelectTemplateButtonClick=function(e){t.config.onBeforePopupSelectTemplateButtonClick=e},this.setPopupSaveButtonClick=function(e){t.config.onPopupSaveButtonClick=e},this.setPopupSendMailButtottonClick=function(e){t.config.onPopupSendMailButtonClick=e},this.setPopupUploadImageButtonClick=function(e){t.config.onPopupUploadImageButtonClick=e},this.setBeforeRowRemoveButtonClick=function(e){t.config.onBeforeRowRemoveButtonClick=e},this.setAfterRowRemoveButtonClick=function(e){t.config.onAfterRowRemoveButtonClick=e},this.setBeforeRowDuplicateButtonClick=function(e){t.config.onBeforeRowDuplicateButtonClick=e},this.setAfterRowDuplicateButtonClick=function(e){t.config.onAfterRowDuplicateButtonClick=e},this.setBeforeRowEditorButtonClick=function(e){_emai_emailBuilder.config.onBeforeRowEditorButtonClick=e},this.setAfterRowEditorButtonClick=function(e){t.config.onAfterRowEditorButtonClick=e},this.setBeforeShowingEditorPopup=function(e){t.config.onBeforeShowingEditorPopup=e},this.setAfterLoad=function(e){t.config.onAfterLoad=e},this.getContentHtml=function(){return t.getContentHtml()},this.makeSortable=function(){t.makeSortable()},this.each(function(){t=new ie(this,e),t.init()})}}),jQuery.fn.hasParent=function(e){return 1==jQuery(this).parents(e).length};
